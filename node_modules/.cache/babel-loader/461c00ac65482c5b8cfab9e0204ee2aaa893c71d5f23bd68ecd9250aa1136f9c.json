{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport initialState from \"../../initialState\";\nconst FETCH_PROFILES_URL = limit => `https://randomuser.me/api/?results=${limit}`;\n_c = FETCH_PROFILES_URL;\nexport const fetchProfiles = createAsyncThunk(\"FETCH_PROFILES\", async limit => {\n  const res = await fetch(FETCH_PROFILES_URL(limit));\n  const {\n    results\n  } = await res.json();\n  return results;\n});\nconst slice = createSlice({\n  name: \"profiles\",\n  initialState,\n  reducers: {\n    fetchProfiles(state, action) {\n      console.log(\"state,\", state);\n      console.log(\"action\", action);\n      state.profiles.push(...action.payload);\n    },\n    clearProfiles(state) {\n      state.profiles = initialState.profiles;\n    },\n    dismissfetchProfilesError(state) {\n      state.fetchProfilesError = null;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchProfiles.pending, state => {\n      state.fetchProfilesPending = true;\n      state.fetchProfilesError = null;\n    });\n    builder.addCase(fetchProfiles.fulfilled, (state, action) => {\n      state.fetchProfilesPending = false;\n      state.fetchProfilesError = null;\n      state.profiles = action.payload;\n    });\n    builder.addCase(fetchProfiles.rejected, (state, action) => {\n      state.fetchProfilesPending = false;\n      state.fetchProfilesError = {\n        message: \"something went wrong\"\n      };\n    });\n  }\n});\nexport const {\n  reducer,\n  actions: {\n    clearProfiles\n  }\n} = slice;\nvar _c;\n$RefreshReg$(_c, \"FETCH_PROFILES_URL\");","map":{"version":3,"names":["createAsyncThunk","createSlice","initialState","FETCH_PROFILES_URL","limit","_c","fetchProfiles","res","fetch","results","json","slice","name","reducers","state","action","console","log","profiles","push","payload","clearProfiles","dismissfetchProfilesError","fetchProfilesError","extraReducers","builder","addCase","pending","fetchProfilesPending","fulfilled","rejected","message","reducer","actions","$RefreshReg$"],"sources":["/Users/robineriksson/dev/react-typescript/src/features/profilePage/redux/fetchProfiles.ts"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport initialState from \"../../initialState\";\nimport { ProfileType } from \"../constants/types\";\n\nconst FETCH_PROFILES_URL = (limit: number) =>\n  `https://randomuser.me/api/?results=${limit}`;\n\nexport const fetchProfiles = createAsyncThunk(\n  \"FETCH_PROFILES\",\n  async (limit: number) => {\n    const res = await fetch(FETCH_PROFILES_URL(limit));\n    const { results } = await res.json();\n    return results as ProfileType[];\n  }\n);\n\nconst slice = createSlice({\n  name: \"profiles\",\n  initialState,\n  reducers: {\n    fetchProfiles(state, action) {\n      console.log(\"state,\", state);\n      console.log(\"action\", action);\n      state.profiles.push(...action.payload);\n    },\n    clearProfiles(state) {\n      state.profiles = initialState.profiles;\n    },\n    dismissfetchProfilesError(state) {\n      state.fetchProfilesError = null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchProfiles.pending, (state) => {\n      state.fetchProfilesPending = true;\n      state.fetchProfilesError = null;\n    });\n\n    builder.addCase(fetchProfiles.fulfilled, (state, action) => {\n      state.fetchProfilesPending = false;\n      state.fetchProfilesError = null;\n      state.profiles = action.payload;\n    });\n\n    builder.addCase(fetchProfiles.rejected, (state, action) => {\n      state.fetchProfilesPending = false;\n      state.fetchProfilesError = {\n        message: \"something went wrong\",\n      };\n    });\n  },\n});\n\nexport const {\n  reducer,\n  actions: { clearProfiles },\n} = slice;\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,YAAY,MAAM,oBAAoB;AAG7C,MAAMC,kBAAkB,GAAIC,KAAa,IACtC,sCAAqCA,KAAM,EAAC;AAACC,EAAA,GAD1CF,kBAAkB;AAGxB,OAAO,MAAMG,aAAa,GAAGN,gBAAgB,CAC3C,gBAAgB,EAChB,MAAOI,KAAa,IAAK;EACvB,MAAMG,GAAG,GAAG,MAAMC,KAAK,CAACL,kBAAkB,CAACC,KAAK,CAAC,CAAC;EAClD,MAAM;IAAEK;EAAQ,CAAC,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;EACpC,OAAOD,OAAO;AAChB,CACF,CAAC;AAED,MAAME,KAAK,GAAGV,WAAW,CAAC;EACxBW,IAAI,EAAE,UAAU;EAChBV,YAAY;EACZW,QAAQ,EAAE;IACRP,aAAaA,CAACQ,KAAK,EAAEC,MAAM,EAAE;MAC3BC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEH,KAAK,CAAC;MAC5BE,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,MAAM,CAAC;MAC7BD,KAAK,CAACI,QAAQ,CAACC,IAAI,CAAC,GAAGJ,MAAM,CAACK,OAAO,CAAC;IACxC,CAAC;IACDC,aAAaA,CAACP,KAAK,EAAE;MACnBA,KAAK,CAACI,QAAQ,GAAGhB,YAAY,CAACgB,QAAQ;IACxC,CAAC;IACDI,yBAAyBA,CAACR,KAAK,EAAE;MAC/BA,KAAK,CAACS,kBAAkB,GAAG,IAAI;IACjC;EACF,CAAC;EACDC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CAACC,OAAO,CAACpB,aAAa,CAACqB,OAAO,EAAGb,KAAK,IAAK;MAChDA,KAAK,CAACc,oBAAoB,GAAG,IAAI;MACjCd,KAAK,CAACS,kBAAkB,GAAG,IAAI;IACjC,CAAC,CAAC;IAEFE,OAAO,CAACC,OAAO,CAACpB,aAAa,CAACuB,SAAS,EAAE,CAACf,KAAK,EAAEC,MAAM,KAAK;MAC1DD,KAAK,CAACc,oBAAoB,GAAG,KAAK;MAClCd,KAAK,CAACS,kBAAkB,GAAG,IAAI;MAC/BT,KAAK,CAACI,QAAQ,GAAGH,MAAM,CAACK,OAAO;IACjC,CAAC,CAAC;IAEFK,OAAO,CAACC,OAAO,CAACpB,aAAa,CAACwB,QAAQ,EAAE,CAAChB,KAAK,EAAEC,MAAM,KAAK;MACzDD,KAAK,CAACc,oBAAoB,GAAG,KAAK;MAClCd,KAAK,CAACS,kBAAkB,GAAG;QACzBQ,OAAO,EAAE;MACX,CAAC;IACH,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EACXC,OAAO;EACPC,OAAO,EAAE;IAAEZ;EAAc;AAC3B,CAAC,GAAGV,KAAK;AAAC,IAAAN,EAAA;AAAA6B,YAAA,CAAA7B,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}