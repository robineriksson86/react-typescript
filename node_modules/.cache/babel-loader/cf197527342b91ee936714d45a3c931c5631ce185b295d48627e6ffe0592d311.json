{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport initialState from '../../initialState';\nconst FETCH_PROFILES_URL = limit => `https://randomuser.me/api/?results=${limit}`;\n_c = FETCH_PROFILES_URL;\nexport const fetchProfiles = createAsyncThunk('FETCH_PROFILES', async limit => {\n  const res = await fetch(FETCH_PROFILES_URL(limit));\n  const {\n    results\n  } = await res.json();\n  return results;\n});\nconst slice = createSlice({\n  name: 'profiles',\n  initialState,\n  reducers: {\n    fetchProfiles(state, action) {\n      state.profiles.push(...action.payload);\n    },\n    clearProfiles(state) {\n      state.profiles = initialState.profiles;\n    },\n    dismissfetchProfilesError(state) {\n      state.fetchProfilesError = null;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchProfiles.pending, state => {\n      state.fetchProfilesPending = true;\n      state.fetchProfilesError = null;\n    });\n    builder.addCase(fetchProfiles.fulfilled, (state, action) => {\n      state.fetchProfilesPending = false;\n      state.fetchProfilesError = null;\n      state.profiles = action.payload;\n    });\n    builder.addCase(fetchProfiles.rejected, (state, action) => {\n      state.fetchProfilesPending = false;\n      state.fetchProfilesError = {\n        message: 'something went wrong'\n      };\n    });\n  }\n});\nexport const {\n  reducer,\n  actions: {\n    clearProfiles\n  }\n} = slice;\nvar _c;\n$RefreshReg$(_c, \"FETCH_PROFILES_URL\");","map":{"version":3,"names":["createAsyncThunk","createSlice","initialState","FETCH_PROFILES_URL","limit","_c","fetchProfiles","res","fetch","results","json","slice","name","reducers","state","action","profiles","push","payload","clearProfiles","dismissfetchProfilesError","fetchProfilesError","extraReducers","builder","addCase","pending","fetchProfilesPending","fulfilled","rejected","message","reducer","actions","$RefreshReg$"],"sources":["/Users/robineriksson/dev/react-typescript/src/features/profilePage/redux/fetchProfiles.ts"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport initialState from '../../initialState';\nimport { ProfileType } from '../constants/types';\n\nconst FETCH_PROFILES_URL = (limit: number) => `https://randomuser.me/api/?results=${limit}`;\n\nexport const fetchProfiles = createAsyncThunk('FETCH_PROFILES', async (limit: number) => {\n    const res = await fetch(FETCH_PROFILES_URL(limit));\n    const { results } = await res.json();\n    return results as ProfileType[];\n});\n\nconst slice = createSlice({\n    name: 'profiles',\n    initialState,\n    reducers: {\n        fetchProfiles(state, action) {\n            state.profiles.push(...action.payload);\n        },\n        clearProfiles(state) {\n            state.profiles = initialState.profiles;\n        },\n        dismissfetchProfilesError(state) {\n            state.fetchProfilesError = null;\n        },\n    },\n    extraReducers: builder => {\n        builder.addCase(fetchProfiles.pending, state => {\n            state.fetchProfilesPending = true;\n            state.fetchProfilesError = null;\n        });\n\n        builder.addCase(fetchProfiles.fulfilled, (state, action) => {\n            state.fetchProfilesPending = false;\n            state.fetchProfilesError = null;\n            state.profiles = action.payload;\n        });\n\n        builder.addCase(fetchProfiles.rejected, (state, action) => {\n            state.fetchProfilesPending = false;\n            state.fetchProfilesError = {\n                message: 'something went wrong',\n            };\n        });\n    },\n});\n\nexport const {\n    reducer,\n    actions: { clearProfiles },\n} = slice;\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,YAAY,MAAM,oBAAoB;AAG7C,MAAMC,kBAAkB,GAAIC,KAAa,IAAM,sCAAqCA,KAAM,EAAC;AAACC,EAAA,GAAtFF,kBAAkB;AAExB,OAAO,MAAMG,aAAa,GAAGN,gBAAgB,CAAC,gBAAgB,EAAE,MAAOI,KAAa,IAAK;EACrF,MAAMG,GAAG,GAAG,MAAMC,KAAK,CAACL,kBAAkB,CAACC,KAAK,CAAC,CAAC;EAClD,MAAM;IAAEK;EAAQ,CAAC,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;EACpC,OAAOD,OAAO;AAClB,CAAC,CAAC;AAEF,MAAME,KAAK,GAAGV,WAAW,CAAC;EACtBW,IAAI,EAAE,UAAU;EAChBV,YAAY;EACZW,QAAQ,EAAE;IACNP,aAAaA,CAACQ,KAAK,EAAEC,MAAM,EAAE;MACzBD,KAAK,CAACE,QAAQ,CAACC,IAAI,CAAC,GAAGF,MAAM,CAACG,OAAO,CAAC;IAC1C,CAAC;IACDC,aAAaA,CAACL,KAAK,EAAE;MACjBA,KAAK,CAACE,QAAQ,GAAGd,YAAY,CAACc,QAAQ;IAC1C,CAAC;IACDI,yBAAyBA,CAACN,KAAK,EAAE;MAC7BA,KAAK,CAACO,kBAAkB,GAAG,IAAI;IACnC;EACJ,CAAC;EACDC,aAAa,EAAEC,OAAO,IAAI;IACtBA,OAAO,CAACC,OAAO,CAAClB,aAAa,CAACmB,OAAO,EAAEX,KAAK,IAAI;MAC5CA,KAAK,CAACY,oBAAoB,GAAG,IAAI;MACjCZ,KAAK,CAACO,kBAAkB,GAAG,IAAI;IACnC,CAAC,CAAC;IAEFE,OAAO,CAACC,OAAO,CAAClB,aAAa,CAACqB,SAAS,EAAE,CAACb,KAAK,EAAEC,MAAM,KAAK;MACxDD,KAAK,CAACY,oBAAoB,GAAG,KAAK;MAClCZ,KAAK,CAACO,kBAAkB,GAAG,IAAI;MAC/BP,KAAK,CAACE,QAAQ,GAAGD,MAAM,CAACG,OAAO;IACnC,CAAC,CAAC;IAEFK,OAAO,CAACC,OAAO,CAAClB,aAAa,CAACsB,QAAQ,EAAE,CAACd,KAAK,EAAEC,MAAM,KAAK;MACvDD,KAAK,CAACY,oBAAoB,GAAG,KAAK;MAClCZ,KAAK,CAACO,kBAAkB,GAAG;QACvBQ,OAAO,EAAE;MACb,CAAC;IACL,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EACTC,OAAO;EACPC,OAAO,EAAE;IAAEZ;EAAc;AAC7B,CAAC,GAAGR,KAAK;AAAC,IAAAN,EAAA;AAAA2B,YAAA,CAAA3B,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}